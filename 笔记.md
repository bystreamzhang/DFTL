# 笔记

`gcc main.c ftl/ftl.c -o main`
`main -i dataset/input_random.txt -o dataset/output_random.txt -v dataset/val_random.txt`

构造数据：
`gcc -O2 -march=native -std=c11 -Wall -Wextra -o build_dataset2 build_dataset2.c`
`gcc -O2 -march=native -std=c11 -Wall -Wextra -o build_dataset3 build_dataset3.c`

```bash
cd project 
mkdir build 
cd build 
cmake .. 
make

./project_hw -i ../dataset/input_random.txt -o ../dataset/output_random.txt -v ../dataset/val_random.txt 
./project_hw -i ../dataset/input_seq.txt -o ../dataset/output_seq.txt -v ../dataset/val_seq.txt
./project_hw -i ../dataset/input_step.txt -o ../dataset/output_step.txt -v ../dataset/val_step.txt

./project_hw -i ../dataset/test_256TB_trace.txt -o ../dataset/output_256TB.txt -v ../dataset/read_ppn_result.txt
./project_hw -i ../dataset/trace_2.txt  -o ../dataset/output_256TB_big.txt -v ../dataset/read_result_2.txt
./project_hw -i ../trace.txt  -o ../output.txt -v ../read_result.txt
./project_hw -i ../trace2.txt  -o ../output2.txt -v ../read_result2.txt
```

## 输入数据分析

对于input_random：

1. 第一阶段，输入是先按lba顺序输入，从0到24999999(共2.5x10e7)，ppa的值是可能大于32位的，末尾和lba不对齐。
2. 第二阶段，大约1e6条输入，包含读取操作和更新操作

对于input_seq:

1. 第一阶段和random是一样的
2. 第二阶段，也是读写均有，但是lba是顺序的。也就是说其读取和更新操作的lba不超过1048575

对于input_step:

1. 第一阶段一样
2. 第二阶段也是读写均有，但是lba是每次加10递增。也就是说其读取和更新操作的lba不超过10485750

样例代码测试结果：

```bash
Welcome to HW project.
The input file path is: dataset/input_random.txt
The output file path is: dataset/output_random.txt
The validate file path is: dataset/val_random.txt
io count = 26048576
algorithmRunningDuration:        189088.000000 ms
Max memory used:                 512000000 B
Comparison results:
Total lines: 524609
Matching lines: 524609
Accuracy: 100.00%
```

